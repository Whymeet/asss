# Руководство по системе заказов калькулятора

## Обзор
Система позволяет клиентам отправлять заказы с результатами расчетов через модальное окно с встроенной валидацией и анимированными уведомлениями.

## Ключевые функции

### 1. Модальное окно заказа
- Открывается кнопкой "Заказать" после расчета
- Содержит форму с полями: имя, телефон, email, дата, время, комментарий
- Автоматически закрывается при отправке или по клику вне окна

### 2. Валидация формы
- **Имя**: минимум 2 символа, только буквы и пробелы
- **Телефон**: российский формат +7XXXXXXXXXX
- **Email**: стандартная валидация email
- **Дата**: не ранее сегодня, максимум 30 дней вперед
- **Время**: рабочие часы 9:00-18:00

### 3. Анимированные уведомления
- Ошибки валидации: красная подсветка поля + сообщение снизу
- Анимация тряски для привлечения внимания
- Уведомления в правом верхнем углу для успеха/ошибки отправки

### 4. Email система
- Отправка через Bitrix событие CALC_ORDER_REQUEST
- Форматированное сообщение с данными расчета и заказа
- Автоматическая обработка ошибок

## Техническая реализация

### Файлы
- `print.calc/templates/list/template.php` - основной шаблон с модальным окном
- `print.calc/class.php` - обработчик отправки заказов

### CSS классы
- `.order-modal` - модальное окно
- `.form-group.error` - состояние ошибки поля
- `.notification` - уведомления (.success/.error)

### JavaScript функции
- `openOrderModal()` - открытие модального окна
- `validateOrderForm()` - валидация формы
- `showFieldError()` - показ ошибки поля
- `showNotification()` - показ уведомлений

## Настройка

### Email события
Убедитесь, что в Bitrix настроено событие `CALC_ORDER_REQUEST` с соответствующими почтовыми шаблонами.

### Стили
Стили интегрированы в основной шаблон. Для кастомизации измените переменные CSS в секции стилей.

### Валидация
Параметры валидации можно изменить в функции `validateOrderForm()`:
- Минимальная длина имени
- Формат телефона
- Рабочие часы
- Диапазон дат

## Использование

1. Клиент выполняет расчет в калькуляторе
2. Нажимает кнопку "Заказать"
3. Заполняет форму в модальном окне
4. Система валидирует данные с анимированными подсказками
5. При успешной отправке показывается уведомление
6. Модальное окно закрывается автоматически

## Преимущества новой системы

- ✅ Замена alert() на профессиональные анимированные уведомления
- ✅ Раздельные поля даты и времени с валидацией
- ✅ Визуальная обратная связь при ошибках
- ✅ Интеграция с существующей системой Bitrix
- ✅ Адаптивный дизайн для мобильных устройств
